#pragma once

#include <vector>

class CShip;

class CShipArray
{
public:
//////////////////////////////////////////////////////////////////////
// Konstruktion/Destruktion
//////////////////////////////////////////////////////////////////////
	CShipArray(void);
	~CShipArray(void);

//////////////////////////////////////////////////////////////////////
// iterators
//////////////////////////////////////////////////////////////////////
	typedef std::vector<CShip>::const_iterator const_iterator;
	const_iterator begin() const;
	const_iterator end() const;

	typedef std::vector<CShip>::iterator iterator;
	iterator begin();
	iterator end();

//////////////////////////////////////////////////////////////////////
// adding elements
//////////////////////////////////////////////////////////////////////
	void Add(CShipArray::iterator& it, const CShip& ship);
	void Append(CShipArray::iterator& it, const CShipArray& other);
//////////////////////////////////////////////////////////////////////
// removing elements
//////////////////////////////////////////////////////////////////////
	void RemoveAll();
	void RemoveAt(int index);
	void RemoveAt(CShipArray::iterator& index);
//////////////////////////////////////////////////////////////////////
// getting elements
//////////////////////////////////////////////////////////////////////
	CShip& GetAt(int index);
	const CShip& GetAt(int index) const;
	CShip& ElementAt(int index);
	const CShip& ElementAt(int index) const;
	CShip& operator[](int index);
	const CShip& operator[](int index) const;

//////////////////////////////////////////////////////////////////////
// getting info
//////////////////////////////////////////////////////////////////////
	int GetSize() const;
	int GetUpperBound() const;
	bool empty() const;

//////////////////////////////////////////////////////////////////////
// Serialisierungsfunktionen
//////////////////////////////////////////////////////////////////////
	void Serialize(CArchive& ar);
	//special purpose serialization function
	void SerializeEndOfRoundData(CArchive& ar, const CString& sMajorID);
	//special purpose serialization function
	void SerializeNextRoundData(CArchive& ar, const CPoint& ptCurrentCombatSector);


private:
	void SetSize(int size);

	std::vector<CShip> m_vShips;
};
